#!/usr/bin/env ruby

require_relative("../lib/parser")
require "time"

date = ARGV[0] ? Time.strptime(ARGV[0], TIME_FORMAT) : Time.new.localtime("-05:00")
datepath = date.strftime(TIME_FORMAT)

puts("Creating placeholders for https://adventofcode.com/#{date.year}/day/#{date.day}")
start_at = Process.clock_gettime(Process::CLOCK_MONOTONIC, :nanosecond)
CodeGenerator.start([date, datepath])
end_at = Process.clock_gettime(Process::CLOCK_MONOTONIC, :nanosecond)
elapsed = (end_at - start_at)/1000000

puts "DONE IN 0.#{elapsed}S"
